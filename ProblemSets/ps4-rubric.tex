\documentclass{article}
% This is a LaTeX file.  It is a text file that is compiled
% by a program called LaTeX into a pretty PDF file.  
% If you're viewing this file on Overleaf, 
% you'll see that PDF in the window to the right.
%
% The LaTeX macro language is complicated, so we have inserted
% lots of documenting comments into the file.  Comments start
% with `%' and continue to the end of the line.  In Overleaf's
% window, they are colored blue.
%
% Comments prefixed with `Student:' are relevant to students.
% Skip anything else you don't understand, or ask me.
%
% set font encoding for PDFLaTeX or XeLaTeX
\usepackage{ifxetex}
\ifxetex
  \usepackage{fontspec}
\else
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{lmodern}
\fi

% Student: These lines describe some document metadata.
\title{Problem Set 4}
\author{%
% Student: change the next line to your name!
    Name
\\  MATH-UA 120 Discrete Mathematics
}
\date{due March 1, 2023}


\usepackage[headings=runin-fixed-nr]{exsheets}
% These make enumerates within questions start at the second ("(a)") level, rather than the first ("1.") level.
\makeatletter
    \newcommand{\stepenumdepth}{\advance\@enumdepth\@ne}
\makeatother
\SetupExSheets{
    question/pre-body-hook=\stepenumdepth,
    solution/pre-body-hook=\stepenumdepth,
}
\DeclareInstance{exsheets-heading}{runin-nn-np}{default}{
    runin = true,
    title-post-code = .\space,
    join = {
        main[r,vc]title[l,vc](0pt,0pt);
    }
}
\newif\ifshowsolutions
% Student: replace `false' with `true' to typeset your solutions.
% Otherwise they are ignored!
\showsolutionstrue
\ifshowsolutions
    \SetupExSheets{
        question/pre-hook=\itshape,
        solution/headings=runin-nn-np,
        solution/print=true,
        solution/name=Answer
    }%
    \makeatletter%
    \pretocmd{\@title}{Answers to }%
    \makeatother%
\else
    \SetupExSheets{solution/print=false}
\fi

% Bug workaround: http://tex.stackexchange.com/a/146536/1402
%\newenvironment{exercise}{}{}
\RenewQuSolPair{question}{solution}
%\let\answer\solution
%\let\endanswer\endsolution
\usepackage{manfnt}
\newcommand{\danger}{\marginpar[\hfill\dbend]{\dbend\hfill}}

% We are creating a command for some common commands.
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\modulo}{\text{mod }}

% This package is for specifying graphics.  It's amazing.
% Manual at http://texdoc.net/texmf-dist/doc/generic/pgf/pgfmanual.pdf
\usepackage{tikz}

\usepackage{amsmath, amsthm}
\usepackage{amsfonts}
\usepackage{siunitx}
\DeclareSIUnit\pound{lb}
\usepackage{hyperref}
\newtheorem*{theorem}{Theorem}
\theoremstyle{definition}
\newtheorem*{definition}{Definition}
% This is the beginning of the part of the file that describes
% the text of the document.
% That's why it says `\begin{document}' below. :-)
\begin{document}
\maketitle



These are to be written up in \LaTeX{} and turned in to Gradescope.\\



\ifshowsolutions
    \SetupExSheets{solution/print=true}
\else
    \danger
 \underline{ \LaTeX  Instructions:}  You can view the source (\texttt{.tex}) file \href{https://bit.ly/3SX4VT4}{here} to get some more examples of \LaTeX{} code.  I have commented in the source file in places where new \LaTeX{} constructions are used.
  
  Remember to change \verb|\showsolutionsfalse| to \verb|\showsolutionstrue|
    in the document's preamble 
    (between \verb|\documentclass{article}| and \verb|\begin{document}|)
\fi

\section*{Assigned Problems}


\begin{question}{7}
    Define a relation $R$ on $\mathbb{N}\times \mathbb{N}$ by
	\[
	(a, b)\mathrel{R}(c, d) \iff 3a+d = b+3c.
	\]
	\begin{enumerate}
	\item Show that $R$ is an equivalence relation, 
	\item Describe the equivalence classes $[(0, 0)], [(1, 2)],$ and $[(2, 1)]$.
	\end{enumerate}
\end{question}
% Student: put your answer between the next two lines.
\begin{solution}
	\begin{enumerate}
	\item 
	\begin{itemize} 
		\item $ R$ is reflexive since for any $(a, b) \in \mathbb{N}\times \mathbb{N}$, $3a+b = b+3a$, so $(a, b)\mathrel{R}(a, b)$.
		\item $ R$ is symmetric since for any $(a,b), (c, d) \in \mathbb{N}\times \mathbb{N}$, if $(a, b) \mathrel{R}(b, c)$, then $3a+d = b+3c$, so $3c+b = d+3a$, so $(c, d) \mathrel{R} (a, b)$.
		\item $R$ is transitive since for any $(a,b), (c, d), (e, f) \in \mathbb{N}\times \mathbb{N}$, if $(a, b) \mathrel{R}(c, d)$ and $(c, d) \mathrel{R}(e, f)$, then $3a+d = b+3c$ and $3c+f = d +3e$, so $3c = d+3e-f$, and 
		\[
		3a + d = b + (d + 3e -f)
		\implies 3a+f = b+ 3e,
		\]
		so $(a,b) \mathrel{R}(e, f)$.
	\end{itemize}
	\item \begin{itemize}
	\item $[(0, 0)] = \{(c, d) \in \mathbb{N}\times \mathbb{N}: 0+d = 0+ 3c\} = \{ (c, 3c): c\in \mathbb{N}\} = \{(0, 0), (1, 3), (2, 6), \cdots\}$
	\item $[(1, 2)]= \{(c, d) \in \mathbb{N}\times \mathbb{N}: 3+d = 2+ 3c\} = \{ (c, 3c-1): c\in \mathbb{N}, c>0\} = \{(1,2), (2, 5), (3, 9), \cdots\}$
	\item $[(2, 1)] = \{(c, d) \in \mathbb{N}\times \mathbb{N}: 6+d = 1+ 3c\} = \{ (c, 3c-5): c\in \mathbb{N}, c>1\} = \{(2, 1), (3, 4), (4, 7), \cdots\}$
	\end{itemize}
	\end{enumerate}
{\color{red} Rubric:
\begin{itemize}
\item 6P for part a: 2P for each part
\item 1P for part b
\item Grader: Please expand on rubric yourself.
\end{itemize}}
\end{solution}


\begin{question}{9}
    Are the given relations irreflexive? antisymmetric? transitive? Either \textit{prove} generally or \textit{disprove} via 
    counterexample.
    	\begin{enumerate}
	\item For $x, y \in \Z$,  $x\mathrel{R}y \iff |x - y| > 0$. 
	\item  $x\mathrel{R}y$ means that $x$ and $y$ have a common prime factor (a prime number that divides both $x$ and $y$), 
	where $x, y \in \Z$.
	\item For $x, y \in 2^{\Z}$. $x\mathrel{R}y \iff x \cap y \neq \emptyset$.
	\end{enumerate}
\end{question}
% Student: put your answer between the next two lines.
\begin{solution}
\begin{enumerate}
	\item
\begin{itemize}
		\item $ R$ is irreflexive since for any $x \in \Z$, $|x-x|  = 0 \not > 0$.
		\item $ R$ is not antisymmetric. Take $x = 0$ and $y = 1$. Then clearly $x \mathrel{R}y$ and $y \mathrel{R}x$, but $x \neq y$.
		\item $ R$ is not transitive. Indeed, take $x = 0$, $y = 2$, and $z = 0$. Then clearly $x \mathrel{R}y$ and $y \mathrel{R}z$, but $x$ and $z$ are not related.
	\end{itemize}
	
	\item 
	\begin{itemize}
		\item $ R$ is not irreflexive, since for instance $2$ and $2$ have a common prime factor of $2$.
		\item $ R$ is not antisymmetric. Indeed, take $x = 2$ and $y = 4$. Then $x$ and $y$ have a common prime factor 2, so $x \mathrel{R}y$ and $y \mathrel{R}x$, but $x \neq y$.
		\item $ R$ is not transitive. Indeed, take $x = 2$, $y = 6$, and $z = 3$. Then $x \mathrel{R}y$ since $x$ and $y$ both have the prime factor 2, and $y \mathrel{R}z$ since $y$ and $z$ both have the prime factor 3, but $x$ and $z$ do not have a prime factor.
	\end{itemize}
	
	\item 
	\begin{itemize}
		\item $ R$ is not irreflexive, since $\{2\} \cap \{2\} \neq \emptyset$.
		\item $ R$ is not antisymmetric. Indeed, take $x = \{ 0 \}$ and $y = \{0,1\}$. Then $x \cap y = \{0 \} \neq \emptyset$, but $x \neq y$.
		\item $ R$ is not transitive. Indeed, take $x = \{ 0 \}$, $y = \{0,1\}$, and $z = \{1\}$. Then clearly $x \mathrel{R}y$ and $y \mathrel{R}z$, but $x$ and $z$ are not related.
	\end{itemize}
     \end{enumerate}
 {\color{red} Rubric:
\begin{itemize}
\item 3P for part: 1P for disproving/proving each part
\item Grader: Please expand on rubric yourself.
\end{itemize}}
\end{solution}

\begin{question}{6}
    Determine all the (distinct) equivalence classes of the following equivalence relations. Provide a brief justification on how you found all the equivalence classes of each relation. (\textit{There is no need to prove they are equivalence relations; but you are encouraged to prove they are equivalence relations for practice.})
	\begin{enumerate}
	\item Consider the set $A = \{0, 1, 2, \dots, 8 \}$. Define a relation $R$ on $A$ by
	\[
	a\mathrel{R}b \iff a^2 \equiv b^2 \pmod{9}.
	\]
	\item Let $\mathrel{R}$ be a relation on $\mathbb{Z}$. $a\mathrel{R}b \iff 3a-5b$ is even.
	\item Let $\mathrel{R}$ be a relation on $\mathbb{Z}$. $a\mathrel{R}b \iff 4 \mid (a+3b)$.
	\end{enumerate}
\end{question}
% Student: put your answer between the next two lines.
\begin{solution}
	\begin{enumerate}
	\item Now, $[0]$ contains all $a \in A$ such that $9 \mid a^2$, which is only true for $a = 0, 3, 6$. Then $[1]$ contains all $a \in A$ such that $9 \mid (a^2 - 1)$, which is only true for $a = 1, 8$. Then $[2]$ contains all $a \in A$ such that $9 \mid (a^2 - 4)$, which is only true for $a = 2, 7$. Then $[4]$ contains all $a \in A$ such that $9 \mid (a^2 - 16)$, which is only true for $a = 4, 5$. We see that we have found all elements, and therefore there are four equivalence classes:
		\begin{align*}
		[0] = [3] &= \{ 0, 3, 6 \} \\
		[1] = [8] &= \{ 1, 8 \} \\
		[2] = [7] &= \{ 2, 7 \} \\
		[4] = [5] &= \{ 4, 5 \}
		\end{align*}
		
	\item 
		\begin{align*}
		[0] &= \{ a\in \Z : a\mathrel{R}0 \} = \{ a\in \Z :3a-5\cdot 0 \text{ is even }\} = \{ a\in \Z : a \text{ is even }\}\\
		[1] &= \{ a\in \Z : a\mathrel{R}1 \} = \{ a\in \Z :3a-5\cdot 1 \text{ is even }\} = \{ a\in \Z : a \text{ is odd }\}
		\end{align*}
		There are two equivalence classes, the set of all even integers and the set of all odd integers.
		
	\item 
		\begin{align*}
		[0] &= \{ a\in \Z : a\mathrel{R}0 \} = \{ a\in \Z : 4\mid (a+3\cdot 0)\} = \{ a\in \Z : 4\mid a \} = \{\dots -4, 0, 4, 8, \dots\}\\
		[1] &= \{ a\in \Z : a\mathrel{R}1 \} = \{ a\in \Z : 4\mid (a+3\cdot 1)\} = \{ \dots, -3, 1, 5, 9, \dots\}\\
		[2] &= \{ a\in \Z : a\mathrel{R}2 \} = \{ a\in \Z : 4\mid (a+3\cdot 2)\} = \{ \dots, -2, 2, 6, 10, \dots\}\\
		[3] &= \{ a\in \Z : a\mathrel{R}3 \} = \{ a\in \Z : 4\mid (a+3\cdot 3)\} = \{ \dots, -1, 3, 7, 11, \dots\}
		\end{align*}
		Since we will repeat the above cases for $x\geq 4$, there are four equivalence classes. Note that this relation is the same as $a\mathrel{R}b \iff a \equiv -3b \pmod{4}.$
	\end{enumerate}
	
{\color{red} Rubric:
\begin{itemize}
\item 2P per part
\item Grader: Please expand on rubric yourself.
\end{itemize}}
\end{solution}

\begin{question}{4}
    Let $R$ be a relation on a set $A$. Prove $R\cup R^{-1}$ is symmetric.
\end{question}
% Student: put your answer between the next two lines.
\begin{solution}
Let $R$ be a relation on a set $A$. Let $x, y \in A$ such that $(x, y) \in R\cup R^{-1}$. Then $(x, y)\in R$ or $(x, y)\in R^{-1}$.
	\begin{itemize}
		\item If $(x, y)\in R$, then $(y, x)\in R^{-1}$. This implies $(y, x)\in R\cup R^{-1}$. 
		\item If $(x, y)\in R^{-1}$, then $(y, x)\in R$. This implies $(y, x)\in R\cup R^{-1}$. 
	\end{itemize}
Therefore $R\cup R^{-1}$ is symmetric on $A$.

 {\color{red} Rubric:
\begin{itemize}
\item 1P for clearly defining all variables and objects
\item 1P for using the correct symmetric hypothesis: $(x, y) \in R\cup R^{-1}$
\item 1P for each case
\item Grader: Please expand on rubric yourself.
\end{itemize}}
\end{solution}

\begin{question}{18}
    \begin{enumerate}
    	\item Let $X$ be a set with $n$ elements. How many possible reflexive relations on $X$ are there?
	\item Let $A$ be a set with size $n$. For $x, y \in 2^{A}$, $x\mathrel{R}y \iff x \cap y = \emptyset$. What is the cardinality of $\mathrel{R}$?
   	\item What is the total number of partitions of $\{1, 2, \dots, 100 \}$ that has exactly two parts in the partition? 
	Remember, both parts should be non-empty.
        \item Suppose that a single character is stored in a computer using eight bits. 
        How many bit patterns have at least two 1's?
        	\item Twenty people are to be divided into two teams with ten players on each team.  
	In how many ways can this be done?
        \item Thirty five discrete math students are to be divided into seven discussion groups, each consisting of five students.  
        In how many ways can this be done?
   	\end{enumerate}
\end{question}
% Student: put your answer between the next two lines.
\begin{solution}
    	\begin{enumerate}
	\item Given a set $X$ with $n$ elements, a relation on $X$ is a subset of $X\times X$. Note $|X\times X| = n^2$. For a relation to be reflexive on $X$, it must contain all $n$ elements $(x, x)$ for all $x\in X$. Out of the $n^2$ elements in $X\times X$, a reflexive relation must have at least $n$ elements and any subset of the $n^2-n$ elements remaining. Then there are $2^{n^2-n}$ possible reflexive relations on $X$.
	
	\item Let $A$ be a set with size $n$. For $x, y \in 2^{A}$, $x\mathrel{R}y \iff x \cap y = \emptyset$. Thus for any two sets to be related by $\mathrel{R}$, they must be disjoint. Then for any $a\in A$, $a$ must be in either the first set of the ordered pair in $\mathrel{R}$, the second set in the order pair in $\mathrel{R}$, or neither. Since there $n$ elements in $A$, there are $3^n$ possible ways to assign elements of $A$ to either one of the sets in the ordered pair in $\mathrel{R}$ or neither. Therefore, $|\mathrel{R}|=3^n$. 

   	 \item One of the parts must contain the element 1. Now, for each of the other 99 elements, we can decide whether we want to put them in the same part as 1, or in the other one. This gives 2 choices for each, for a total of $2^{99}$ ways. However, one option is not valid: when we put all other elements with 1 (since then, the other part would be empty). This leaves us with $2^{99} - 1$ partitions in two parts.
	
	An alternative way to see this is the following: choosing a partition in two parts is like choosing a subset ($2^{100}$ of them). However, $\emptyset$ and the whole sets are not allowed, which leaves us with $2^{100} - 2$ subsets. Then, if we choose a subset $A$ or its complement, we get the same partition, so each partition is double counted, which gives a total of
	\[
	\frac12 \left ( 2^{100} - 2 \right ) = 2^{99} - 1
	\]
	different partitions.


        \item To calculate bit patterns with at least two 1's will require us to think of the disjoint cases of exactly two 1's, three 1's, and so forth: $\binom{8}{2} + \binom{8}{3} + \binom{8}{4} + \binom{8}{5} + \binom{8}{6} + \binom{8}{7} + \binom{8}{8} $. Or we can think of it as all possible bit patterns except bit patterns with exactly zero 1's and exactly one 1's: $2^8 - \left(\binom{8}{0}+\binom{8}{1}\right)$.
        
        \item We want to choose 10 people out of 20 people.  There are $\binom{20}{10}$ ways to do this.  (Then, the remaining 10 is in the other team.) 
        Since the two teams are not labelled, then we divide by $2!$.  Thus, the solution is:
        \[ \frac{1}{2} \binom{20}{10} = \frac{20!}{10!10!2!}. \]
        
        \item There are $\binom{35}{5}$ ways to choose 5 students out of 35 students.  For each way, there are $\binom{30}{5}$ ways to choose 5 students out of the remaining 30.  Then, there are $\binom{25}{5}$ ways to choose 5 students out of the remaining 25. Then, there are $\binom{20}{5}$ ways to choose 5 students out of the remaining 20. Then, there are $\binom{15}{5}$ ways to choose 5 students out of the remaining 15.  And finally, there are $\binom{10}{5}$ ways to divide the remaining 10 students into 2 groups of 5 students.  

	We use the multiplication principle to find the total number of ways this can be done.  Since the teams are not labelled, then we further divide the result by $7!$.

	Therefore,
	\begin{align*}
    	&\frac{1}{7!} \,\binom{35}{5} \cdot \binom{30}{5} \cdot \binom{25}{5 } \cdot \binom{20}{5} \cdot \binom{15}{5 } \cdot \binom{10}{5} \\
    	&= 
    	\frac{1}{7!} \, \frac{35!}{5!30!} \cdot \frac{30!}{5!25!} \cdot \frac{25!}{5!20!} \cdot \frac{20!}{5!15!} \cdot \frac{15!}{5!10!} \cdot \frac{10!}{5!5!}\\
   	& = \frac{35!}{7!(5!)^7}
	\end{align*}
        
   	\end{enumerate}
 {\color{red} Rubric:
\begin{itemize}
\item 3P for each part: 2P for explanation and 1P for answer that matches explanation.
\item Grader: Please expand on rubric yourself.
\end{itemize}}
\end{solution}

\begin{question}{6}
    Prove \textbf{combinatorially} that
    \[ 3^n = \binom{n}{0} \cdot 2^0 + \binom{n}{1}\cdot 2^1+ \binom{n}{2}\cdot 2^2+\cdots +\binom{n}{n}\cdot 2^n. \]
    \textbf{You may not manipulate the question algebraically.}
\end{question}
% Student: put your answer between the next two lines.
\begin{proof}
    [Answers may vary, but here is one.]
    Given a natural number $n$, let $A$ be the set of all lists of length $n$ with elements drawn from $\{0,1,2\}$,
    with replacement.
    We ask: how many elements are in $A$?

    \noindent Answer 1: $3^n$, by Theorem 8.6.

    \noindent Answer 2: 
    For each $k$ between $0$ and $n$, let $A_k$ be the subset of $A$ consisting of lists that have exactly $k$ 2's in them. Then $A_0, A_1, \dots, A_n$ form a partition of $A$,
    which means that
    \[
        |A| = |A_0| + |A_1| + \dots + |A_n|
        = \sum_{k=0}^n |A_k|
    \]
    Let us fix a specific $k$ and find $|A_k|$.
    An element of $A_k$ has exactly $k$ 2's, and 
    the other list elements can be either $0$ or $1$. 
    There are $\binom{n}{k}$ options for the positions
    of the $k$ $2$'s (a set of $k$ indices chooses from $\{1,2,\dots,n\}$, 
    and $2^{n-k}$ options for the remaining elements of the list.
    Since choosing the positions of the $k$ $2$'s is the same as choosing the positions of the $n-k$ remaining elements of the list,
    \[
        |A_k| = \binom{n}{k} 2^{n-k} = \binom{n}{n-k} 2^{n-k}
    \]
    Summing up,
    \begin{align*}
        |A| &= \sum_{k=0}^n |A_k| = \sum_{k=0}^n \binom{n}{n-k} 2^{n-k}
        \\&= \binom{n}{n} \cdot 2^n + \binom{n}{n-1}\cdot 2^{n-1}+ \binom{n}{n-2}\cdot 2^{n-2}+\cdots +\binom{n}{n-n}\cdot 2^{n-n}
        \\&= \binom{n}{0} \cdot 2^0 + \binom{n}{1}\cdot 2^1+ \binom{n}{2}\cdot 2^2+\cdots +\binom{n}{n}\cdot 2^n
    \end{align*}
    Since we have answered the same question two ways, the two answers are equal.\qedhere
    
{\color{red} Rubric:
\begin{itemize}
\item 2P for valid question
\item 1P for answer 1
\item 3P for answer 2
\end{itemize}}
\end{proof}


\end{document}
